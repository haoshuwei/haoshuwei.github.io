[{"author":null,"categories":["Tech"],"content":"","date":1692748800,"description":"","dir":"post/","excerpt_html":"","excerpt_text":"","expirydate":-62135596800,"fuzzywordcount":100,"html":"","keywords":null,"kind":"page","lang":"en","lastmod":1692748800,"objectID":"598336392427647069d96326e8d29b4f","permalink":"https://haoshuwei.github.io/post/2023-08-23-kubernetes-debug/","publishdate":"2023-08-23T00:00:00Z","readingtime":1,"relpermalink":"/post/2023-08-23-kubernetes-debug/","section":"post","summary":"kubernetes 组件debug调试 热更新 kubernetes 组件的日志级别 kube-apiserver/kubelet 等组件通常使用 -v 来设置日志级别，默认的日志级别是2，下面是动态热更新日志级别到4的操作步骤：\n# 使用 kube-apiserver 的 http 访问代理 $ kubctl proxy Starting to serve on 127.0.0.1:8001 # 更新 kube-apiserver 组件的日志级别 $ curl -X PUT 127.0.0.1:8001/debug/flags/v -d \u0026#34;4\u0026#34; successfully set klog.logging.verbosity to 4 # 更新 kubelet 组件的日志级别 $ export NODENAME=hao $ curl -X PUT 127.0.0.1:8001/api/v1/nodes/${NODENAME=hao}/proxy/debug/flags/v -d \u0026#34;4\u0026#34; successfully set klog.logging.verbosity to 4 ","tags":["kubernetes"],"title":"kubernetes 组件debug调试","type":"post","url":"/post/2023-08-23-kubernetes-debug/","weight":0,"wordcount":58}]